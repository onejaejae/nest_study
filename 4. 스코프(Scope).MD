## 스코프(Scope)

---

<bR>

✔ Node.js는 다른 웹 프레임워크와는 다르게 멀티 쓰레드 상태 비저장(Multi-Threaded Stateless) 모델을 따르지 않습니다. 따라서 싱글톤 인스턴스를 사용하는 것은 안전한 방식입니다. 이는 요청으로 들어오는 모든 정보(DB 커넥션 풀, 전역 싱글톤 서비스 등)들을 공유할 수 있다는 것을 의미합니다.

<BR>

🤷‍♂️ 스코프에는 어떤 것들이 있는지 살펴봅시다.

<bR>

- DEFAULT : 싱글톤 인스턴스가 전체 애플리케이션에서 공유됩니다. 인스턴스 수명은 애플리케이션 수명주기와 같습니다. 애플리케이션이 부트스트랩(각주. 애플리케이션 또는 시스템이 구동되는 것) 과정을 마치면 모든 싱글톤 프로바이더의 인스턴스가 만들어집니다. 따로 선언하지 않으면 DEFAULT가 적용됩니다.
- REQUEST : 들어오는 요청마다 별도의 인스턴스가 생성됩니다. 요청을 처리하고 나면 인스턴스는 쓰레기 수집(garbage-collected)됩니다.
- TRANSIENT : 이 스코프를 지정한 인스턴스는 공유되지 않습니다. 임시(TRANSIENT) 프로바이더를 주입하는 각 컴포넌트는 새로 생성된 전용 인스턴스를 주입받게됩니다.

### 💡 가능하면 DEFAULT 스코프를 사용하는 것을 권장합니다. 싱글톤 인스턴스를 공유한다는 것은 인스턴스를 캐시할 수 있고, 초기화가 애플리케이션 시작중에 한번만 발생하므로 메모리와 동작 성능을 향상시킬수 있습니다.

<BR>
